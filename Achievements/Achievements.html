<div class="card">
    <span class="kpiDisplay All-currency-change" id="prevMP">@User.CommissionsCV.MonthsAgo(1)</span>
    <span class="kpiDisplay All-currency-change" id="prevMT">@User.CommissionsStatsTGVKPI.MonthsAgo(1)</span>
    <span class="kpiDisplay" id="prevRank">@User.CommissionsRankName.MonthsAgo(1)</span>
    <span class="kpiDisplay" id="Rank">@User.CommissionsRankName</span>
    <span class="kpiDisplay All-currency-change" id="MP">@User.CommissionsCV</span>
    <span class="kpiDisplay All-currency-change" id="MT">@User.CommissionsStatsTGVKPI</span>
    <span class="kpiDisplay" id="HRank">@User.CommissionsHighestRankName</span>
    <span class="kpiDisplay" id="AssociateAssociateCountryKPI">@User.AssociateAddressCountryCode</span>
    <a href="app.html#/TeamDashboard"><div class="card-header" id="businessSNHeader-2v"><h1>Business Snapshot</h1></div></a>
    <div id="titleButtonChng">
        <div class="BSHeaderT item-alpha" id="BSHeaderTAfterChange"><h1 class="BSTitle">Current</h1></div>
        <div class="BSHeaderT item-beta" id="secondtlt"><h1 class="BSTitle">Previous</h1></div>
    </div>
    <div class="card-body" id="achievements-wg-grid-2v">
        <div class="ach-item-a-2v ach-metric-main-div-2v">
            <div class="ach-metric-div-2v">
                <h1 id="All-metric-multy-1"></h1>
            </div>
            <div class="ach-metric-div-2v">
                <h2 id="All-metric-multy-1tlt"></h2>
            </div>
        </div>
        <div class="ach-item-b-2v ach-metric-main-div-2v">
            <div class="ach-metric-div-2v">
                <h1 id="All-metric-multy-2"></h1>
            </div>
            <div class="ach-metric-div-2v">
                <h2 id="All-metric-multy-2tlt"></h2>
            </div>
        </div>
        <div class="ach-item-c-2v ach-metric-main-div-2v">
            <div class="ach-metric-div-2v">
                <h1 id="All-metric-multy-3"></h1>
            </div>
            <div class="ach-metric-div-2v">
                <h2 id="All-metric-multy-3tlt"></h2>
            </div>
        </div>
        <div class="ach-item-d-2v ach-metric-main-div-2v">
            <div class="ach-metric-div-2v">
                <h1 id="All-metric-multy-4"></h1>
            </div>
            <div class="ach-metric-div-2v">
                <h2 id="All-metric-multy-4tlt"></h2>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        let CountryCodeA = $('#AssociateAssociateCountryKPI')[0].innerHTML;

        if (CountryCodeA === 'AU'){
            for(let i = 0; i < $(".All-currency-change").length; i++){
                $(".All-currency-change")[i].innerHTML = $(".All-currency-change")[i].innerHTML * 2;
            }
        }
        else if (CountryCodeA === 'ES' || CountryCodeA === 'BE' || CountryCodeA === 'NL' || CountryCodeA === 'IE'){
            for(let i = 0; i < $(".All-currency-change").length; i++){
                $(".All-currency-change")[i].innerHTML = $(".All-currency-change")[i].innerHTML * 1.2;
            }
        }

        let a = document.getElementById("All-metric-multy-1").innerHTML;
        document.getElementById("All-metric-multy-1").innerHTML = Math.floor(a);
        a = document.getElementById("All-metric-multy-2").innerHTML;
        document.getElementById("All-metric-multy-2").innerHTML = Math.floor(a);
        a = document.getElementById("MT").innerHTML;
        document.getElementById("MT").innerHTML = Math.floor(a);
        a = document.getElementById("prevMT").innerHTML;
        document.getElementById("prevMT").innerHTML = Math.floor(a);
        a = document.getElementById("MP").innerHTML;
        document.getElementById("MP").innerHTML = Math.floor(a);
        a = document.getElementById("prevMP").innerHTML;
        document.getElementById("prevMP").innerHTML = Math.floor(a);
        if (CountryCodeA === 'AU'){
            for(let i = 0; i < $(".All-currency-change").length; i++){
                $(".All-currency-change")[i].innerHTML = 'A$' + $(".All-currency-change")[i].innerHTML;
            }
        }
        else if (CountryCodeA === 'ES' || CountryCodeA === 'BE' || CountryCodeA === 'NL' || CountryCodeA === 'IE'){
            for(let i = 0; i < $(".All-currency-change").length; i++){
                $(".All-currency-change")[i].innerHTML = '€' + $(".All-currency-change")[i].innerHTML;
            }
        }
        else {
            for(let i = 0; i < $(".All-currency-change").length; i++){
                $(".All-currency-change")[i].innerHTML = '£' + $(".All-currency-change")[i].innerHTML;
            }
        }
        $("#All-metric-multy-1tlt").text('Current\nTeam Sales');
        $("#All-metric-multy-2tlt").text('Current\nPersonal Sales');
        $("#All-metric-multy-3tlt").text('Current\nPosition');
        $("#All-metric-multy-4tlt").text('Lifetime Highest\nPosition');
        $("#All-metric-multy-1").text($("#MT").text());
        $("#All-metric-multy-2").text($("#MP").text());
        $("#All-metric-multy-3").text($("#Rank").text());
        $("#All-metric-multy-4").text($("#HRank").text());
        $("#BSTitle").text('Current');

        // On Click
        $("#titleButtonChng").click(function () {

            // Team Sales
            $("#All-metric-multy-1").fadeOut(10, function () {
                $("#All-metric-multy-1").text(($("#All-metric-multy-1").text() === $("#MT").text()) ? $("#prevMT").text() : $("#MT").text()).fadeIn();
            })
            $("#All-metric-multy-1tlt").fadeOut(10, function () {
                $("#All-metric-multy-1tlt").text(($("#All-metric-multy-1tlt").text() === 'Current\nTeam Sales') ? 'Previous\nTeam Sales' : 'Current\nTeam Sales').fadeIn();
            })

            // Personal Sales
            $("#All-metric-multy-2").fadeOut(10, function () {
                $("#All-metric-multy-2").text(($("#All-metric-multy-2").text() === $("#MP").text()) ? $("#prevMP").text() : $("#MP").text()).fadeIn();
            })
            $("#All-metric-multy-2tlt").fadeOut(10, function () {
                $("#All-metric-multy-2tlt").text(($("#All-metric-multy-2tlt").text() === 'Current\nPersonal Sales') ? 'Previous\nPersonal Sales' : 'Current\nPersonal Sales').fadeIn();
            })

            // Rank
            $("#All-metric-multy-3").fadeOut(10, function () {
                $("#All-metric-multy-3").text(($("#All-metric-multy-3").text() === $("#Rank").text()) ? $("#prevRank").text() : $("#Rank").text()).fadeIn();
            })
            $("#All-metric-multy-3tlt").fadeOut(10, function () {
                $("#All-metric-multy-3tlt").text(($("#All-metric-multy-3tlt").text() === 'Current\nPosition') ? 'Previous\nPosition' : 'Current\nPosition').fadeIn();
            })

            // Main Title
            $("#BSTitle").fadeOut(10, function () {
                $("#BSTitle").text(($("#BSTitle").text() === 'Current') ? 'Previous' : 'Current').fadeIn();
            })

            // Color Change
            $('.item-alpha').attr('id', function(index, attr){
                return attr === 'BSHeaderTAfterChange' ? 'firsttlt' : 'BSHeaderTAfterChange';
            });
            $('.item-beta').attr('id', function(index, attr){
                return attr === 'secondtlt' ? 'BSHeaderTAfterChange' : 'secondtlt';
            });
        })
        console.log("Easter egg: you found me girl, you're the chosen one");
    });
</script>